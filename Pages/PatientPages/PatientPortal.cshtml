@page
@model Csharp3_A1.Pages.Patient.PatientPortalModel
@{
	ViewData["Title"] = "Patient portal";
}
<!-- See Staff/StaffDashboard or Shared/Layout for doing a menu with .nav, I wanted to try mixing in C# ->
<!-- Browser query for button navigation -->
@{
	var section = Request.Query["section"].ToString() ?? "Profile"; //Request value of "section" - default to "Profile"
}
@{
	Layout = "_MinimalLayout";
}

<div class="container mt-3">
	<div class="row">

		<!-- Sidebar menu -->
		<div class="col-md-4">
			<div class="d-flex flex-column gap-2 p-2 bg-info bg-opacity-50 rounded news-section">
				<a href="/Patient/PatientPortal?section=Profile" class="btn btn-primary bg-black bg-opacity-50">Profile</a> <!-- If navigation successful: section = "Profile" -->
				<a href="/Patient/PatientPortal?section=Appointments" class="btn btn-primary bg-black bg-opacity-50">Appointments</a>
				<a href="/Patient/PatientPortal?section=Medical Records" class="btn btn-primary bg-black bg-opacity-50">Medical Records</a>
				<a href="/Patient/PatientPortal?section=Prescriptions" class="btn btn-primary bg-black bg-opacity-50">Prescriptions</a>
			</div>
		</div>

		<!-- Generated content based on menu-choice -->
		<div class="col ms-2">
			@if (section == "Profile")
			{
				<h2>Profile</h2>
				<table class="table">
					<thead><tr><th>Reason</th><th>Prescription</th><th>Date of visits</th></tr></thead>
					<tbody>
						<tr><td>Broken leg</td><td>Cast+ibuprofen</td><td>2025-09-11</td></tr>
						<tr><td>Sadness</td><td>Happiness</td><td>2025-06-22</td></tr>
					</tbody>
				</table>
			}
			else if (section == "Appointments")
			{
				<h2>Appointments</h2>
				<table class="table">
					<thead><tr><th>Date</th><th>Doctor</th><th>Status</th></tr></thead>
					<tbody>
						<tr><td>2025-07-20</td><td>Dr. Smith</td><td>Confirmed</td></tr>
						<tr><td>2025-08-15</td><td>Dr. Lee</td><td>Pending</td></tr>
					</tbody>
				</table>

				<!-- Schedule Appointment button -->
				<a href="/Patient/PatientPortal?section=ScheduleAppointment" class="btn btn-outline-primary">Schedule appointment</a>
			}
			else if (section == "ScheduleAppointment")
			{
				<form>
					<h2>Schedule appointment</h2>
					<input class="form-control mb-2" type="text" placeholder="Patient name" />
					<input class="form-control mb-2" type="text" placeholder="Issue" />
					<input class="form-control mb-2" type="datetime-local" />
					<button class="btn btn-outline-primary mb-2" type="submit">Request appointment</button>
				</form>
			}
			else if (section == "Medical Records")
			{
				<h2>Medical Records</h2>
				<table class="table">
					<thead><tr><th>Reason</th><th></th><th>Date of visit</th></tr></thead>
					<tbody>
						<tr><td>Broken leg</td><td>2025-09-11</td></tr>
						<tr><td>Sadness</td><td>2025-06-22</td></tr>
					</tbody>
				</table>
			}
			else if (section == "Prescriptions")
			{
				<h2>Profile</h2>
				<table class="table">
					<thead><tr><th>Prescription</th><th>Amount</th></tr></thead>
					<tbody>
						<tr><td>Morphine</td><td>150mg * 200tb</td></tr>
						<tr><td>Ibuprofen</td><td>400mg * 150tb</td></tr>
					</tbody>
				</table>
			}

		</div>
	</div>
</div>